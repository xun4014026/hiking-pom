{"remainingRequest":"D:\\xun40\\intern\\poa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xun40\\intern\\poa\\src\\components\\MountainMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xun40\\intern\\poa\\src\\components\\MountainMap.vue","mtime":1630489593310},{"path":"D:\\xun40\\intern\\poa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xun40\\intern\\poa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBwcm9wczogewogICAgU2VhcmNoTW91bnRhaW5JZDogTnVtYmVyLAogICAgU2hvd01vdW50YWluRGF0YTogT2JqZWN0LAogIH0sCiAgZGF0YSgpIHsKICByZXR1cm4gewogICAgLy8g5qih5pOs6LOH5paZCiAgICBtb3VudGFpbl90b3AxMDBfZGF0YTp7fSwKICAgIHdlYXRoZXJfc3RhdGlvbjp7fSwKICAgIHpvb206IDcuNSwKICAgIGNlbnRlcjogWzIzLjg3Mzg3NSwgMTIwLjk4MjAyNF0sCiAgICB1cmw6ICJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyIsCiAgICBhdHRyaWJ1dGlvbjogYMKpIDxhIGhyZWY9Imh0dHA6Ly9vc20ub3JnL2NvcHlyaWdodCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzYCwKICAgIG9wdGlvbnM6IHsKICAgICAgem9vbUNvbnRyb2w6IGZhbHNlCiAgICB9LAogICAgaWNvbjogewogICAgICB0eXBlOiB7CiAgICAgICAgYmxhY2s6CiAgICAgICAgICAiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9wb2ludGhpL2xlYWZsZXQtY29sb3ItbWFya2Vycy9tYXN0ZXIvaW1nL21hcmtlci1pY29uLTJ4LWJsYWNrLnBuZyIsCiAgICAgICAgZ29sZDoKICAgICAgICAgICJodHRwczovL2Nkbi5yYXdnaXQuY29tL3BvaW50aGkvbGVhZmxldC1jb2xvci1tYXJrZXJzL21hc3Rlci9pbWcvbWFya2VyLWljb24tMngtZ29sZC5wbmciCiAgICAgIH0sCiAgICAgIHNoYWRvd1VybDoKICAgICAgICAiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC8wLjcuNy9pbWFnZXMvbWFya2VyLXNoYWRvdy5wbmciLAogICAgICBpY29uU2l6ZTogWzI1LCA0MV0sCiAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLAogICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sCiAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdCiAgICB9CiAgfTsKfSwKbW91bnRlZCgpIHsKICAvLyDnrYnlnLDlnJblibXlu7rlvozln7fooYwKICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgLy8gICAvLyDnjbLlvpfnm67liY3kvY3nva4KICAvLyAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ocG9zaXRpb24gPT4gewogIC8vICAgICBjb25zdCBwID0gcG9zaXRpb24uY29vcmRzOwogIC8vICAgICAvLyDlsIfkuK3lv4Ppu57oqK3ngrrnm67liY3nmoTkvY3nva4KICAvLyAgICAgdGhpcy5jZW50ZXIgPSBbcC5sYXRpdHVkZSwgcC5sb25naXR1ZGVdOwogIC8vICAgICAvLyDlsIfnm67liY3nmoTkvY3nva7nmoTmqJnoqJjpu57lvYjot7PoppbnqpfmiZPplosKICAvLyAgICAgdGhpcy4kcmVmcy5sb2NhdGlvbi5tYXBPYmplY3Qub3BlblBvcHVwKCk7CiAgLy8gICB9KTsKICAvLyB9KQogIDsKICBheGlvcy5nZXQoJ2pzb24vd2VhdGhlcl9zdGF0aW9uLmpzb24nLHt9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgdGhpcy53ZWF0aGVyX3N0YXRpb24gPSByZXNwb25zZS5kYXRhLndlYXRoZXJfc3RhdGlvbjsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMud2VhdGhlcl9zdGF0aW9uKQogICAgCiAgfSk7Cn0sCndhdGNoOnsKICBTZWFyY2hNb3VudGFpbklkOiBmdW5jdGlvbigpewogICAgY29uc29sZS5sb2codGhpcy5TZWFyY2hNb3VudGFpbklkKQogICAgaWYodGhpcy5TZWFyY2hNb3VudGFpbklkPT0tMSl7CiAgICAgIHRoaXMuem9vbSA9ICA3LjUsCiAgICAgIHRoaXMuY2VudGVyID0gWzIzLjg3Mzg3NSwgMTIwLjk4MjAyNF0KICAgIH1lbHNlewogICAgICBsZXQgdGVtcCA9IHRoaXMuU2hvd01vdW50YWluRGF0YS5maWx0ZXIoc2VhcmNoUmVzdWx0ID0+IHNlYXJjaFJlc3VsdC5pZCA9PSB0aGlzLlNlYXJjaE1vdW50YWluSWQpCiAgICAgIGNvbnNvbGUubG9nKHRlbXBbMF0ubW91bnRhaW5fbmFtZSkKICAgICAgdGhpcy5jZW50ZXIgPSBbdGVtcFswXS5sYXQsdGVtcFswXS5sbmddCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuem9vbSA9IDEyCiAgICAgIH0sIDUwMCkKICAgIH0KCiAgfQp9LAptZXRob2RzOiB7CiAgbW91bnRhaW5fY2xpY2sobW91bnRhaW5faWQpewogICAgbGV0IHRlbXAgPSB0aGlzLlNob3dNb3VudGFpbkRhdGEuZmlsdGVyKHNlYXJjaFJlc3VsdCA9PiBzZWFyY2hSZXN1bHQuaWQgPT0gbW91bnRhaW5faWQpCiAgICBjb25zb2xlLmxvZygnbW91bnRhaW5fY2xpY2snKQogICAgY29uc29sZS5sb2codGVtcFswXS5pZCkKICAgIHRoaXMuJGVtaXQoJ01vdW50YWluUm93JywgdGVtcFswXSkKICB9LAogIAp9Cn0KCg=="},{"version":3,"sources":["MountainMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"MountainMap.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<!-- <v-button @click=\"reset\">\r\nReset\r\n</v-button> -->\r\n<l-map\r\n      ref=\"myMap\"\r\n      :zoom.sync=\"zoom\"\r\n      :center.sync=\"center\"\r\n      :options=\"options\"\r\n      style=\"height: 100vh;\">\r\n      <!-- 載入圖資 -->\r\n      <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\r\n      \r\n      <!-- 自己所在位置 -->\r\n      <!-- <l-marker ref=\"location\" :lat-lng=\"center\">\r\n        <l-popup>\r\n          你的位置\r\n        </l-popup>\r\n      </l-marker> -->\r\n      <!-- 創建標記點 -->\r\n      <v-marker-cluster>\r\n        <!-- ShowMountainData -->\r\n      <l-marker :lat-lng=\"[item.lat,item.lng]\" v-for=\"item in ShowMountainData\" :key=\"item.id\" v-on:click=\"mountain_click(item.id)\">\r\n\r\n        <!-- 標記點樣式判斷 -->\r\n        <l-icon\r\n          :icon-url=\"icon.type.black\"\r\n          :shadow-url=\"icon.shadowUrl\"\r\n          :icon-size=\"icon.iconSize\"\r\n          :icon-anchor=\"icon.iconAnchor\"\r\n          :popup-anchor=\"icon.popupAnchor\"\r\n          :shadow-size=\"icon.shadowSize\"\r\n        />\r\n        <!-- 彈出視窗 -->\r\n        <l-tooltip>\r\n          {{ item.mountain_name }}\r\n        </l-tooltip>\r\n      </l-marker>\r\n      </v-marker-cluster>\r\n    </l-map>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n  export default {\r\n    name: 'Home',\r\n    props: {\r\n      SearchMountainId: Number,\r\n      ShowMountainData: Object,\r\n    },\r\n    data() {\r\n    return {\r\n      // 模擬資料\r\n      mountain_top100_data:{},\r\n      weather_station:{},\r\n      zoom: 7.5,\r\n      center: [23.873875, 120.982024],\r\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n      attribution: `© <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors`,\r\n      options: {\r\n        zoomControl: false\r\n      },\r\n      icon: {\r\n        type: {\r\n          black:\r\n            \"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png\",\r\n          gold:\r\n            \"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png\"\r\n        },\r\n        shadowUrl:\r\n          \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\r\n        iconSize: [25, 41],\r\n        iconAnchor: [12, 41],\r\n        popupAnchor: [1, -34],\r\n        shadowSize: [41, 41]\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    // 等地圖創建後執行\r\n    // this.$nextTick(() => {\r\n    //   // 獲得目前位置\r\n    //   navigator.geolocation.getCurrentPosition(position => {\r\n    //     const p = position.coords;\r\n    //     // 將中心點設為目前的位置\r\n    //     this.center = [p.latitude, p.longitude];\r\n    //     // 將目前的位置的標記點彈跳視窗打開\r\n    //     this.$refs.location.mapObject.openPopup();\r\n    //   });\r\n    // })\r\n    ;\r\n    axios.get('json/weather_station.json',{}).then((response) => {\r\n      this.weather_station = response.data.weather_station;\r\n      // console.log(this.weather_station)\r\n      \r\n    });\r\n  },\r\n  watch:{\r\n    SearchMountainId: function(){\r\n      console.log(this.SearchMountainId)\r\n      if(this.SearchMountainId==-1){\r\n        this.zoom =  7.5,\r\n        this.center = [23.873875, 120.982024]\r\n      }else{\r\n        let temp = this.ShowMountainData.filter(searchResult => searchResult.id == this.SearchMountainId)\r\n        console.log(temp[0].mountain_name)\r\n        this.center = [temp[0].lat,temp[0].lng]\r\n        setTimeout(() => {\r\n          this.zoom = 12\r\n        }, 500)\r\n      }\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    mountain_click(mountain_id){\r\n      let temp = this.ShowMountainData.filter(searchResult => searchResult.id == mountain_id)\r\n      console.log('mountain_click')\r\n      console.log(temp[0].id)\r\n      this.$emit('MountainRow', temp[0])\r\n    },\r\n    \r\n  }\r\n  }\r\n  \r\n</script>\r\n"]}]}