{"remainingRequest":"D:\\xun40\\intern\\poa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xun40\\intern\\poa\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=scss&","dependencies":[{"path":"D:\\xun40\\intern\\poa\\src\\views\\Home.vue","mtime":1630489593324},{"path":"D:\\xun40\\intern\\poa\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xun40\\intern\\poa\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\xun40\\intern\\poa\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\xun40\\intern\\poa\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xun40\\intern\\poa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xun40\\intern\\poa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi8vIC5pbmZvIHsNCi8vICAgYmFja2dyb3VuZC1jb2xvcjpyZWQ7DQovLyB9DQoNCmh0bWwgew0KICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7DQp9DQoNCi52LWNhcmQgew0KICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQp9DQoNCi52LWNhcmRfX3RpdGxlIHsNCiAgICBwYWRkaW5nOiAwcHg7DQp9DQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiXA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-container class=\"pa-0\" fluid >\r\n  <v-layout class=\"ma-0 pa-0\" style=\"height: 89vh\">\r\n    <v-flex xs6 sm6 md6 class=\"ma-0 pa-0\">\r\n      <v-card class=\"mx-10 pa-0\">\r\n        <mountain-map style=\"height: 89vh\" v-on:MountainRow=\"MountainRow\" :SearchMountainId=\"searchInput\" :ShowMountainData=\"show_mountain_data\"/>\r\n      </v-card>\r\n    </v-flex>\r\n\r\n    <v-flex xs6 sm6 md6 class='ma-0 pa-0' style=\"height: 89vh; overflow: auto\">\r\n      <v-card class=\"mr-10 pa-0 elevation-0\" >\r\n      <v-card class=\"elevation-0\" >\r\n      <v-layout>\r\n      <v-flex xs2 sm2 md2 class='ma-1 pa-0'>\r\n        <v-select\r\n          v-model=\"filter_grade\"\r\n          :items=\"grade\"\r\n          hide-details\r\n          outlined\r\n          label='百岳等級'\r\n          dense\r\n          @change=\"grade_onChange\"\r\n        ></v-select>\r\n      </v-flex>\r\n\r\n      <v-flex xs3 sm3 md3 class='ma-1 pa-0'>\r\n        <v-autocomplete\r\n          v-model=\"filter_mountain\"\r\n          :items=\"show_mountain_data\"\r\n          hide-details\r\n          outlined\r\n          dense\r\n          label=\"山名\"\r\n          item-value=\"id\"\r\n          item-text=\"mountain_name\"\r\n          @change=\"mountain_onChange\"\r\n        ></v-autocomplete>\r\n      \r\n      </v-flex>\r\n      <!-- <v-flex xs3 sm3 md3 class='ma-1 pa-0'>\r\n        <h2>{{filter_mountain}}</h2>\r\n      </v-flex> -->\r\n      </v-layout>\r\n      </v-card>\r\n    \r\n\r\n    <v-tabs v-model=\"tab\" grow color=\"#42865F\" v-if=\"!filter\">\r\n      <v-tab v-for=\"item in category\" :key=\"item.title\">\r\n        {{ item.title }}\r\n      </v-tab>\r\n    </v-tabs>\r\n\r\n    <v-card  v-if=\"!filter\" class=\"elevation-0 ma-0 mt-5 pt-0\" style=\"height: 50vh;\">\r\n      <v-card-title class=\"ma-0 pa-0\">聲量趨勢</v-card-title>\r\n      <line-chart :Grade=\"filter_grade\" :Tab=\"tab\"/>\r\n    </v-card>\r\n\r\n    <v-card  v-if=\"filter | filter_grade!='all'\" class=\"elevation-0 ma-0 pt-0\" style=\"height: 40vh;\">\r\n      <v-card-title class=\"ma-0 pa-0\">熱門話題</v-card-title>\r\n      <v-layout>\r\n      <v-flex xs1 sm1 md1>\r\n        <v-avatar color=\"#9BD9CE\" size=\"24\" class=\"ma-2\">\r\n          <v-icon class=\"ma-3\" color=\"white\" small>mdi-emoticon-happy-outline</v-icon>\r\n        </v-avatar>\r\n        <v-avatar color=\"#A8BAD0\" size=\"24\" class=\"ma-2\">\r\n          <v-icon class=\"ma-3\" color=\"white\" small>mdi-emoticon-neutral-outline</v-icon>\r\n        </v-avatar>\r\n        <v-avatar color=\"#414263\" size=\"24\" class=\"ma-2\">\r\n          <v-icon class=\"ma-3\" color=\"white\" small>mdi-emoticon-sad-outline</v-icon>\r\n        </v-avatar>\r\n      </v-flex>\r\n\r\n      <v-flex xs11 sm11 md11>\r\n      <vue-word-cloud\r\n      :words=\"mountain_info.wordcloud\"\r\n      font-family=\"Roboto\"\r\n      v-if=\"filter\"\r\n      >\r\n        <template slot-scope=\"{text, weight, word}\">\r\n          \r\n          <div :title=\"weight\" style=\"cursor: pointer; \" @click=\"onMountainWordClick(word)\" hover=\"background:red;\">\r\n            {{ text }}\r\n          </div>\r\n        </template>\r\n      </vue-word-cloud>\r\n\r\n      <vue-word-cloud\r\n      :words=\"grade_info.wordcloud\"\r\n      font-family=\"Roboto\"\r\n      v-else\r\n      >\r\n        <template slot-scope=\"{text, weight, word}\">\r\n          <div :title=\"weight\" style=\"cursor: pointer;\" @click=\"onGradeWordClick(word)\">\r\n            {{ text }}\r\n          </div>\r\n        </template>\r\n      </vue-word-cloud>\r\n      \r\n      </v-flex>\r\n      </v-layout>\r\n    </v-card>\r\n\r\n    <v-card v-if=\"filter | filter_grade!='all'\" class=\"elevation-0 ma-0 pa-0\" >\r\n    <v-card-title class=\"ma-0 pa-0\">\r\n      相關文章\r\n    </v-card-title>\r\n    <!--  -->\r\n    <!-- 特定山 -->\r\n    <!--  -->\r\n    <v-layout>\r\n      <v-chip small class=\"mr-1\" v-if=\"filter\">{{ mountain_info.mountain_name }}</v-chip>\r\n      <v-chip small class=\"mr-1\" v-if=\"clickword != ''\">{{ clickword }}<v-icon class=\"ml-1\" @click=\"closeword()\">mdi-close</v-icon></v-chip>\r\n      <h4 v-if=\"filter\">相關討論數:{{mountain_related_articles.length}}</h4>\r\n      <h4 v-else>相關討論數:{{grade_related_articles.length}}</h4>      \r\n    </v-layout>\r\n    <v-layout v-if=\"filter\" column style=\"height: 40vh\" >   \r\n      <v-flex style=\"overflow: auto\"> \r\n      <v-simple-table>\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-left\">\r\n                標題\r\n              </th>\r\n              <th class=\"text-left\">\r\n                摘要\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              v-for=\"(item, index) in mountain_related_articles\"\r\n              :key=\"index\"\r\n              v-on:click=\"go(item)\"\r\n            >\r\n              <td>{{ item.title }}</td>\r\n              <td>{{ item.snippet }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n      </v-flex>\r\n    </v-layout>\r\n    <!--  -->\r\n    <!-- grade -->\r\n    <!--  -->\r\n    <v-layout v-else column style=\"height: 40vh\" > \r\n      <v-flex style=\"overflow: auto\"> \r\n      <v-simple-table>\r\n        <template v-slot:default>\r\n          <thead>\r\n            <tr>\r\n              <th class=\"text-left\">\r\n                標題\r\n              </th>\r\n              <th class=\"text-left\">\r\n                摘要\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              v-for=\"(item, index) in grade_related_articles\"\r\n              :key=\"index\"\r\n              v-on:click=\"go(item)\"\r\n            >\r\n              <td>{{ item.title }}</td>\r\n              <td>{{ item.snippet }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n      </v-simple-table>\r\n      </v-flex>\r\n    </v-layout>\r\n    </v-card>\r\n    </v-card>\r\n    <!-- </div> -->\r\n    </v-flex>\r\n  </v-layout>\r\n  </v-container>\r\n\r\n  \r\n  \r\n\r\n</template>\r\n\r\n<script>\r\nimport GoogleTrend from '../components/GoogleTrend'\r\nimport HelloWorld from '../components/HelloWorld'\r\nimport DateInputPicker from \"../components/DateInputPicker.vue\"\r\nimport VueWordCloud from 'vuewordcloud'\r\nimport MountainMap from '../components/MountainMap.vue'\r\nimport LineChart from '../components/LineChart.vue'\r\n\r\n\r\n  export default {\r\n    name: 'Home',\r\n\r\n    components: {\r\n      HelloWorld,\r\n      GoogleTrend,\r\n      DateInputPicker,\r\n      [VueWordCloud.name]: VueWordCloud,\r\n      MountainMap,\r\n      LineChart  \r\n    },\r\n    data () {\r\n      return {\r\n        filter: false,\r\n        filter_grade : 'all',\r\n        filter_mountain:'',\r\n        grade:[\"all\",\"A\",\"B\",\"C\",\"C+\",\"小百岳\"],\r\n        mountain_info:{},\r\n        // mountain_label:'山名',\r\n        wordcloud_content:'',\r\n        searchInput:-1,\r\n        clickword:'',\r\n        mountain_top100_data:{},\r\n        mountain_sm100_data:{},\r\n        all_mountain_data:{},\r\n        show_mountain_data:{},\r\n        mountain_related_articles:[],\r\n        grade_related_articles:[],\r\n        grade_wordcloud:{},\r\n        grade_new_wordcloud:{},\r\n        grade_info:{},\r\n        tab: 0,\r\n        category: {\r\n          hot:{ title: \"熱門\"\r\n          },\r\n          accident:{ title: \"山域事故\"\r\n          },\r\n        },\r\n      }\r\n    },\r\n    methods: {\r\n      MountainRow: function (MountainInfo) {\r\n        console.log(MountainInfo)\r\n        this.filter = true\r\n        this.mountain_info = MountainInfo\r\n        this.mountain_related_articles = this.mountain_info.related_articles\r\n        this.filter_grade = this.mountain_info.grade\r\n        this.show_mountain_data = this.all_mountain_data.filter(searchResult => searchResult.grade == this.filter_grade)\r\n        this.filter_mountain = this.mountain_info.id\r\n        this.searchInput = this.mountain_info.id\r\n        this.clickword=''\r\n      },\r\n      mountain_onChange: function (e) {\r\n        let temp = this.all_mountain_data.filter(searchResult => searchResult.id == e)\r\n        this.filter = true\r\n        this.searchInput = temp[0].id\r\n        this.mountain_info = temp[0]\r\n        this.mountain_related_articles = this.mountain_info.related_articles\r\n        this.filter_mountain = this.mountain_info.id\r\n        this.clickword=''\r\n        // {\"id\":e, \"mountain_name\": this.mountain_top100_data[e].mountain_name, \"doc_num\":0, \"wordcloud\":[]}\r\n        // console.log(this.mountain_info)\r\n      },\r\n      grade_onChange: function (e) {\r\n        this.filter = false\r\n        this.filter_mountain = ''\r\n        this.searchInput = -1\r\n        this.filter_grade = e\r\n        this.clickword=''\r\n        this.mountain_related_articles = []\r\n        if(e=='all'){\r\n          this.show_mountain_data = this.all_mountain_data\r\n        }else{\r\n          // console.log(e)\r\n          let temp = {}\r\n          if (this.tab==0){\r\n            temp = this.grade_wordcloud.filter(searchResult => searchResult.grade == e)\r\n          }else{\r\n            temp = this.grade_new_wordcloud.filter(searchResult => searchResult.grade == e)\r\n            console.log(temp)\r\n          }\r\n          this.grade_info = temp[0]\r\n          console.log(this.grade_info.wordcloud)\r\n          this.grade_related_articles = this.grade_info.related_articles\r\n          this.show_mountain_data = this.all_mountain_data.filter(searchResult => searchResult.grade == e)\r\n        }\r\n        \r\n      },\r\n      go(item){\r\n        // window.location.href=item.article_url\r\n        window.open(item.article_url);\r\n      },\r\n      closeword(){\r\n        this.clickword=''\r\n        if (this.filter){\r\n          this.mountain_related_articles = this.mountain_info.related_articles\r\n        }else{\r\n          this.grade_related_articles = this.grade_info.related_articles\r\n        }\r\n      },\r\n      onMountainWordClick(w){\r\n        // console.log(w.text)\r\n        this.clickword = w.text\r\n        this.mountain_related_articles = this.mountain_info.related_articles.filter(searchResult => searchResult.content.includes(w.text))\r\n        // console.log(this.related_articles)\r\n        // const result = words.filter(word => word.name.includes('a'));\r\n      },\r\n      onGradeWordClick(w){\r\n        // console.log(w.text)\r\n        this.clickword = w.text\r\n        this.grade_related_articles = this.grade_info.related_articles.filter(searchResult => searchResult.content.includes(w.text))\r\n        // console.log(this.related_articles)\r\n        // const result = words.filter(word => word.name.includes('a'));\r\n      }\r\n      // WordcloudContent: function () {\r\n      //   this.wordcloud_content = []\r\n      //   // for (w in this.mountain_info.wordcloud)\r\n      //   this.mountain_info.wordcloud.ForEach((item, index) => {\r\n      //     this.wordcloud_content.push( [item.word,item.tfidf])\r\n      //   };\r\n      //   // console.log(this.wordcloud_content)\r\n      //   // this.wordcloud_content = this.wordcloud_content + ']';\r\n      // },\r\n    },\r\n    mounted(){\r\n      axios.get('json/mountain_100.json',{}).then((response) => {\r\n        this.mountain_top100_data = response.data.mountain_top100_data;\r\n        axios.get('json/mountain_100sm.json',{}).then((response) => {\r\n          this.mountain_sm100_data = response.data.mountain_sm100_data;\r\n          this.all_mountain_data = this.mountain_top100_data.concat(this.mountain_sm100_data)\r\n          this.show_mountain_data = this.all_mountain_data\r\n          this.filter_grade = 'all'\r\n          });\r\n      });\r\n     \r\n      axios.get('json/grade_wordcloud.json',{}).then((response) => {\r\n      this.grade_wordcloud = response.data.grade_wordcloud;\r\n      });\r\n\r\n      axios.get('json/grade_new_wordcloud.json',{}).then((response) => {\r\n      this.grade_new_wordcloud = response.data.grade_new_wordcloud;\r\n      // console.log(this.grade_new_wordcloud)\r\n      });\r\n\r\n      console.log(this.show_mountain_data)\r\n    },\r\n    watch:{\r\n        tab: function(){\r\n            this.filter = false\r\n            this.filter_mountain = ''\r\n            this.searchInput = -1\r\n            this.mountain_related_articles = []\r\n            if(this.filter_grade=='all'){\r\n              this.show_mountain_data = this.mountain_top100_data.concat(this.mountain_sm100_data)\r\n            }else{\r\n              // console.log(e)\r\n              let temp = {}\r\n              if (this.tab==0){\r\n                temp = this.grade_wordcloud.filter(searchResult => searchResult.grade == this.filter_grade)\r\n              }else{\r\n                temp = this.grade_new_wordcloud.filter(searchResult => searchResult.grade == this.filter_grade)\r\n                console.log(temp)\r\n              }\r\n              this.grade_info = temp[0]\r\n              console.log(this.grade_info.wordcloud)\r\n              this.grade_related_articles = this.grade_info.related_articles\r\n              this.show_mountain_data = this.all_mountain_data.filter(searchResult => searchResult.grade == this.filter_grade)\r\n            }\r\n            }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// .info {\r\n//   background-color:red;\r\n// }\r\n\r\nhtml {\r\n  overflow: hidden !important;\r\n}\r\n\r\n.v-card {\r\n  display: flex !important;\r\n  flex-direction: column;\r\n}\r\n\r\n.v-card__title {\r\n    padding: 0px;\r\n}\r\n</style>"]}]}